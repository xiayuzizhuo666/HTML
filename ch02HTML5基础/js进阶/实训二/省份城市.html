<! DOCTYPE HTML>
<HTML>
<HEAD>
<TITLE>动态改变下拉菜单内容</TITLE>
</HEAD>
<SCRIPT LANGUAGE=javascript>
	//定义一个二维数组aArray,用于存放城市名称。
	var aCity=new Array();
	aCity[0]=new Array();
	aCity[1]=new Array();
	aCity[2]=new Array();
	aCity[3]=new Array();
	//赋值，每个省份的城市存放于数组的一行。(参照实验文档里面的表格)
	aCity[0][0]="--请选择--";
	aCity[1][0]="--请选择--";
	aCity[2][0]="--请选择--";
	aCity[3][0]="--请选择--";
	aCity[1][1]="广州市";
	aCity[1][2]="深圳市";
	aCity[1][3]="珠海市";
	aCity[1][4]="汕头市";
	aCity[1][5]="佛山市";
	aCity[2][1]="长沙市";
	aCity[2][2]="株洲市";
	aCity[2][3]="湘潭市";
	aCity[3][1]="杭州市";
	aCity[3][2]="苏州市";
	aCity[3][3]="温州市";

	
	function ChangeCity(){
		var i,iProvinceIndex;
		//获取省份的选择索引
		iProvinceIndex=document.frm.optProvince.selectedIndex;
		
		//计算选定省份的城市个数
		iCityCount=0;
		while (aCity[iProvinceIndex][iCityCount]!=null){
			iCityCount++;
		}			
		
		//改变下拉菜单的选项数：可使用document.frm.optCity找到城市下拉菜单。思考：下拉菜单的什么成员变量代表选项数？
		document.frm.optCity.length = iCityCount;
		//改变下拉菜单的内容
		for (i=0;i<=iCityCount-1;i++){
			// document.frm.optCity[i]即代表下拉菜单里的每一项
			// 可以使用new Option()来创建选项对象，并且赋予给下拉菜单
			// 思考：如何创建选项对象？
			var option = new Option(aCity[iProvinceIndex][i],aCity[iProvinceIndex][i]);
			document.frm.optCity.options[i] = option;
					}
		
		// 聚焦和激活optCity这个下拉菜单元素
		document.frm.optCity.focus();
	} 
</SCRIPT>
<BODY ONfocus=ChangeCity()>
<H3>选择省份及城市</H3>
<FORM NAME="frm">
 <P>省份：
  <SELECT NAME="optProvince" SIZE="1" ONCHANGE=ChangeCity()>
   <OPTION>--请选择--</OPTION>
   <OPTION>广东省</OPTION>
   <OPTION>湖南省</OPTION>
   <OPTION>浙江省</OPTION>
  </SELECT>
 </P>
 <P>城市：
  <SELECT NAME="optCity" SIZE="1">
   <OPTION>--请选择--</OPTION> 
  </SELECT>
 </P>
</FORM>
</BODY>
</HTML>